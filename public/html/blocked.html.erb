<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blocked Hosts</title>
</head>
<body>
  <h3>
    Blocked Hosts
  </h3>
  <div style="padding-left:10px">
    <table>
      <th>
        Host
      </th>
      <% @@blocked_hosts.each do |blocked_host| %>
          <tr>
            <td>
              <%= blocked_host %>
            </td>
            <td style="padding-left:50px">
              <a href="/unblock?host=<%= blocked_host %>">
                Unblock
              </a>
            </td>
          </tr>
      <% end %>
    </table>
  </div>
  <h3>
    Block new Host
  </h3>
  <div style="padding-left:10px">
    <table>
      <th> Host Name </th>
      <tr>
        <td>
          <input id="block-new-host-input" type="text"/>
        </td>
        <td style="padding-left:50px">
          <a id="block-new-host-link">
            Block
          </a>
        </td>
      </tr>
    </table>
  </div>
</body>
<script defer>
  var input = document.getElementById("block-new-host-input");
  var link = document.getElementById("block-new-host-link");
  var blockUrl = "block"


  input.addEventListener('input', function()
  {
    link.href = blockUrl + "?host=" + input.value;
  });
</script>
</html>